<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<title>CUNY#WORKS</title>
<meta name="viewport"
	content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
<!-- Latest compiled and minified JavaScript -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"
	integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	crossorigin="anonymous"></script>

<!--[if lt IE 9]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
<link rel="stylesheet"
	href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">

<link rel="stylesheet" media="all"
	href="http://localhost:9999/cunyworks/assets/bootstrap/css/bootstrap.min.css">
<link href="http://localhost:9999/cunyworks/assets/css/style.css"
	rel="stylesheet">



	
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>



<!-- end of css -->
</head>
<body>

	<header id="header">
		<div class="container">
			<a href="Hossain.html" id="logo-1" title="CunyWorks">Cuny#Works</a>
			<div class="menu-trigger"></div>
			<nav id="menu">
				<ul>
					<li><a href="events.html">Courses</a></li>
					<li><a href="gallery.html">Students</a></li>
				</ul>
				<ul>
					<li><a href="#">CUNY#WORKS</a></li>
				</ul>
				<ul>
					<li><a href="gallery.html">Teachers</a></li>
					<li><a href="#fancy" class="get-contact">Contact</a></li>
				</ul>
			</nav>
			<!-- / navigation -->
		</div>
		<!-- / container -->

	</header>
	<!-- / header -->

	<div class="divider"></div>

	<div class="content">

		<div class="container">
			<div class="main-content">


				<table class="table table-inverse">
					<p>Courses</p>
					<thead>
						<tr>
							<th>Course Id</th>
							<th>Course Name</th>
							<th>Subject</th>
							
							<th>Start Date</th>
							<th>End Date</th>
							<th>Room</th>
							<th>Schedule Time</th>
							
							<th>Enrollment Capacity</th>
							<th></th>
							
							
						</tr>
					</thead>

					<tbody>
				<!--  	<button id="modal" type="button" class="btn btn-link" value="Modify">Modify </button> -->
				<!-- 		<tr>

							<td>123</td>
							<td>Math</td>
							<td>05-05-17</td>
							<td>12-05-17</td>
							<td><input id="modal" type="button"
								class="btn blue launch-modal" value="Modify"></td>

						</tr>
 -->
					</tbody>
				</table>
			</div>



<!--
			<aside id="sidebar">
				<div class="widget sidemenu">
					<ul>
						<li><a href="#">Add a new Course</a></li>
						<li><a href="#">Publish Homework</a></li>


					</ul>
				</div>
			</aside>
			<!-- / sidebar -->

		</div>
		<!-- / container -->
	</div>
  -->


	<footer id="footer">
		<div class="container">
			<section>
				<article class="col-1">
					<h3>Contact</h3>
					<ul>
						<li class="address"><a href="#">#######<br>New York,
								NY 00000
						</a></li>
						<li class="mail"><a href="#">contact@cunyworks.com</a></li>
						<li class="phone last"><a href="#">(971) 536 845 924</a></li>
					</ul>
				</article>

				
			
				
			</section>
			<p class="copy">
				Copyright 2017 Cuny#Works. Designed by <a
					href="http://www.vandelaydesign.com/" title="Designed by status418"
					target="_blank">status418</a>. All rights reserved.
			</p>
		</div>
		<!-- / container -->
	</footer>
	<!-- / footer -->

	<script
		src="http://localhost:9999/cunyworks/assets/js/jquery-1.11.1.min.js"></script>
	<script src="http://localhost:9999/cunyworks/assets/js/plugins.js"></script>
	<script src="http://localhost:9999/cunyworks/assets/js/main.js"></script>
	<script
		src="http://localhost:9999/cunyworks/assets/bootstrap/js/bootstrap.min.js"></script>
	
	<div class="container">
	
<div id="myModal" class="modal fade" aria-labelledby="myModalLabel" aria-hidden="true" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                <h4 class="modal-title">Course Information</h4>
            </div>
            <div class="modal-body" id="myModalBody">
                <form>
                <div class="form-group ">
      <label class="control-label " for="courseId">
       CourseId
      </label>
      <input class="form-control" id="courseId" name="courseId" type="number"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="course">
       Course
      </label>
      <input class="form-control" id="course" name="course" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="room">
       Room
      </label>
      <input class="form-control" id="room" name="room" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="subject">
       Subject
      </label>
      <input class="form-control" id="subject" name="subject" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="date">
       Start Date
      </label>
      <input class="form-control" id="startDate" name="startDate" placeholder="MM/DD/YYYY" type="text"/>
     </div>
     <div class="form-group ">
      <label class="control-label " for="date1">
       End Date
      </label>
      <input class="form-control" id="endDate" name="endDate" placeholder="MM/DD/YYYY" type="text"/>
     </div>
     <div class="form-group">
      <div>
       <button id="update" class="btn btn-primary " name="submit">
        Update
       </button>
      </div>
     </div>
    </form>
            </div>
            
        </div>
    </div>
</div>
	</div>
	<!--  -->

 <div class="bs-example">
<!-- Button HTML (to Trigger Modal) -->
<input type="button" class="btn btn-lg btn-primary launch-modal" value="Launch Demo Modal">

<!-- Modal HTML -->
<div id="myModal" class="modal fade">
<div class="modal-dialog">
<div class="modal-content">
<!-- Content will be loaded here from "remote.php" file -->
</div>
</div>
</div>
</div>
<!--  -->
</body>
<script type="text/javascript">

// magic.js
$(document).ready(function() {

    // process the form
    $('#').submit(function(event) {

        // get the form data
        // there are many ways to get this data using jQuery (you can use the class or id also)
        var formData = {
            'course'      : $('#course').val(),
            'room'			:$('#room').val(),
           // 'subject'    : $('#subject').val(),
            'startDate'  : $('#date').val(),
            'endDate'    : $('#date1').val()
            
        };

        // process the form
        $.ajax({
            type        : 'POST', // define the type of HTTP verb we want to use (POST for our form)
            url         : 'http://localhost:9999/cunyworks/teacher0/update', // the url where we want to POST
            contentType : 'application/json' ,                 
            
            data        : JSON.stringify(formData), // our data object
			dataType    : 'json',     
				encode          : true
        })
            // using the done promise callback
            .done(function(data) {

                // log data to the console so we can see
                console.log(data); 

                // here we will handle errors and validation messages
            });

        // stop the form from submitting the normal way and refreshing the page
        event.preventDefault();
    });

});
///////////////////////////////
//	$(document).ready(function(){
// $("#").click(function(){
// $("#myModal").modal({
// remote: "http://localhost:9999/cunyworks/teacher/allCourses"

// }).show();
// }); 
// });


//////////////////////////////

	$(document).ready(function() {
	
		refresh();//initally loads
		$("#modal").click(function(){
				$("#myModal").modal('show');
				
				
	
		});	
		
				function CourseBean(name,room,startDate) {
					//this.courseId = courseId;
					this.name = name;
					this.room = room;
					//this.scheduleTime = scheduleTime;
					this.startDate = startDate;
					//this.endDate = endDate;
					//this.syllabus = syllabus;
					//this.created = created;
					//this.subject = subject;
					//this.teacher = teacher;
					//this.enrollmentCapacity = enrollmentCapacity;
				}
				
			
		$("#update").click(function() {
			$("#update").prop("disabled", true);
			//var courseId = $("#courseId").val();
			
			var name = $("#course").val();
			var room = $("#room").val();
			
			//var subject= $("#subject").val();
			var startDate = $("#startDate").val();
			var endDate = $("#endDate").val();
			var courseBean = new CourseBean(name,room,startDate);
			console.log(course);
			$.ajax("http://localhost:9999/cunyworks/teacher0/update", {
				method : "POST",
				data : JSON.stringify(courseBean),
				
					contentType : "application/json",
				
				success : function(response) {
					$(".alert-success").text(response);
					$(".alert-success").fadeIn();
					window.setTimeout(function(response) {
						$(".alert-success").fadeOut();
						$("#update").prop("disabled", false);
					}, 3000);
					$("form")[0].reset(); //reset form fields
					refresh();
				},
				error: function() {
					$(".alert-danger").fadeIn();
					window.setTimeout(function(response) {
						$(".alert-danger").fadeOut();
						$("#update").prop("disabled", false);
					}, 3000);
				}
			});
			return false; // prevent REFRESH
		});
		function refresh() {
			$.ajax("http://localhost:9999/cunyworks/teacher0/allCourses", {
				method : "GET",
				headers : {
					"Accept" : "application/json"
				},
				success : function(response) {
					console.log(response);
					tablewipe();
					tableload(response);
					loadForm(response);
				}
			});
			
		}
			
		
		
		
		// clear table body
		function tablewipe() {
			$(".table tbody").empty();
		}
		function tableload(response) {
		
			$.each(response, function(index, temp) {
				$(".table tbody").append("<tr>");
				$(".table tbody").append("<td>" + temp.courseId + "</td>");
				$(".table tbody").append("<td>" + temp.name + "</td>");
				$(".table tbody").append("<td>" + temp.subject.name + "</td>");
				
				$(".table tbody").append("<td>" + temp.startDate + "</td>");
				$(".table tbody").append("<td>" + temp.endDate + "</td>");
								$(".table tbody").append("<td>" + temp.room + "</td>");
								$(".table tbody").append("<td>" + temp.scheduleTime + "</td>");
				
				$(".table tbody").append("<td>" + temp.enrollmentCapacity + "</td>");
				$(".table tbody").append("<td>" + '<button id="modal" type="button" class="btn btn-link launch-modal" value="Modify">Modify </button>' + "</td>");
				
				
				
				$(".table tbody").append("</tr>");
				
			});
			
			
		}
			
		
	});
	
// 	$(document).ready(function(){

// 	$("#modal").click(function(){
// 		$("#myModal").modal('show');
// 	});
// });
</script>

</html>
